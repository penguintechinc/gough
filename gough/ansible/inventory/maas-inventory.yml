# MaaS Dynamic Inventory Configuration
# Configuration file for maas-inventory.py script

# MaaS server configuration
maas_url: "http://172.20.0.10:5240/MAAS/"
maas_api_version: "2.0"
# maas_api_key: "consumer_key:token_key:token_secret"  # Set via environment variable MAAS_API_KEY

# SSH configuration
ssh_user: "ubuntu"
ssh_key_file: "~/.ssh/id_rsa"

# Inventory grouping options
group_by_tags: true
group_by_status: true
group_by_zone: true
group_by_architecture: true

# Machine inclusion options
include_all_machines: false  # If true, includes all machines regardless of status
                            # If false, only includes deployed machines

# Cache settings
cache_ttl: 300  # Cache inventory for 5 minutes

# Custom group mappings
group_mappings:
  # Map MaaS tags to Ansible groups
  role_mappings:
    "role-docker": "docker_servers"
    "role-kubernetes": "kubernetes_servers"
    "role-lxd": "lxd_servers"
    "role-general": "general_servers"
  
  env_mappings:
    "env-development": "development"
    "env-staging": "staging"
    "env-production": "production"

# Default group variables
group_vars:
  all:
    ansible_python_interpreter: "/usr/bin/python3"
    ansible_ssh_common_args: "-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"
    gough_managed: true
  
  docker_servers:
    server_role: "docker_host"
    docker_enabled: true
    container_runtime: "docker"
    
  kubernetes_servers:
    server_role: "kubernetes_node"
    k8s_enabled: true
    container_runtime: "containerd"
    
  lxd_servers:
    server_role: "lxd_host"
    lxd_enabled: true
    container_runtime: "lxd"
    
  general_servers:
    server_role: "general_server"
    
  development:
    environment: "development"
    debug_enabled: true
    log_level: "DEBUG"
    
  staging:
    environment: "staging"
    debug_enabled: false
    log_level: "INFO"
    
  production:
    environment: "production"
    debug_enabled: false
    log_level: "WARN"
    monitoring_enabled: true

# Host variable mappings
host_vars_mappings:
  # Map MaaS machine attributes to Ansible host variables
  system_id: "maas_system_id"
  hostname: "maas_hostname"
  fqdn: "maas_fqdn"
  status_name: "maas_status"
  power_state: "maas_power_state"
  architecture: "maas_architecture"
  cpu_count: "maas_cpu_count"
  memory: "maas_memory"
  storage: "maas_storage"